# Code Quality Report

When it comes to the readability of the code, we focused on having descriptive and meaningful variable names. In order to accomplish this we mostly followed the principle that we would rather have longer and more descriptive names for functions and variables, rather than having shorter and more ambigious names. There are however a few cases where we most likely could have shortened names a bit while still keeping their meaning. Regarding readability, we avoided "magical constants" as much as necessary by defining the constants we needed as macros with descriptive names. This was not always done in some of the test files, where we would have needed a lot of macros and variables. However, in the tests, we often did not include as many comments as were probably necessary. We relied mostly on the test "title" to describe what it is the test checks.

We also chose to not follow the GNU standard entirely when it comes to function-specifications. This is because we felt that it would be more useful to utilize the JavaDocs format that enabled us to highlight things like, parameters, and return values. Otherwise we made sure to adhere to the GNU standard.

Because our pull requests required code reviews to be merged, at least one other person other than the author was required to approve and review the code. This has led to code of higher quality as the reviewer looked for improvements and denied bad code.

We have tried to make our functions as short and concise as possible by separating the logic into separate smaller functions in order to make the logic more readable and understandable. Related functions were grouped into a single file, separated from the rest of the code. For example, functions related to allocations were moved into a file called allocation.c instead of keeping it all in gc.c. The DRY principle and the rule of 3:s are two principles that we followed to increase code quality. We did this by separating common logic into functions or macros. Such as creating a file called gc_utils.c to contain some functions that were in use throughout the entire project.

Because we strived to keep functions small and as often as possible leave them with a single concern and usage, the code should be easier to extend upon in the future. There should often only be one place to edit in the code and the change should not require changes in other files. As a whole we have tried to write a program with high cohesion and low coupling.

Performance has not been our highest priority, as our main concern has been making a working project. However, during our code reviews we have made sure to suggest changes if we could see any possible performance improvements, which were often implemented. We have included some of the optional features that improved performance of the program, such as using bitvectors to reduce header size. We also implemented allocations maps, where each bit represents an area in the heap, instead of using larger data types like booleans that would make the data structures larger than required.

Correctness has been a high priority for us, as we first and foremost focused on having a working program, which required correctness. This correctness is also verified by a large number of tests that cover close to the entire program. However due to unforeseen bugs, we found that there were some cases that were not accounted for in our tests. Namely, and quite importantly, tests for compacting large amounts of data.

We have used a lot of whitebox testing, where we even test the internal functions that the user of the GC will not have access to. However, when it came to testing compacting, while some of the internal functions are directly tested, we do utilize some blackbox by testing the compacting function as a whole. Given more time, we would have liked to use whitebox testing for the compacting function as well, instead of blackbox testing. This was detrimental to the project as we could have had more help finding bugs if we used whitebox testing, which as mentioned caused us major issues in the days before the deadline.
